package com.hou_DataSource.dbcp;

import java.sql.Connection;
import java.sql.SQLException;

import org.apache.commons.dbcp.BasicDataSource;
import org.junit.Test;

import com.hou_utils.jdbcUtils;

import java.sql.PreparedStatement;


public class DbcpDemo {
//	硬编码
	@Test
	public void f1() {
//		创建连接池
		BasicDataSource ds = new BasicDataSource();
		try {
//			配置信息等
			ds.setDriverClassName("com.mysql.jdbc.Driver");
			ds.setUrl("jdbc:mysql://localhost:8080/day07");
			ds.setUsername("root");
			ds.setPassword("123456");
			
			Connection conn = ds.getConnection();
			String sql="insert into category values(?,?)";
			PreparedStatement st =conn.prepareStatement(sql);
			st.setString(1, "c010");
			st.setString(2, "家具");
			int i =st.executeUpdate();
			System.out.println(i);
			jdbcUtils.closeResource(conn, st, null);
			
			
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

	}
}
